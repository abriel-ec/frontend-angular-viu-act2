<div class="register-container">
    <div class="register-wrapper">
        <div class="register-branding">
            <h1>Únete a <span class="accent">GymZone</span></h1>
            <p>Crea tu cuenta gratis en menos de 2 minutos.</p>
        </div>

        <mat-card class="register-card">
            <mat-card-header>
                <mat-card-title>Registro de Socio</mat-card-title>
            </mat-card-header>

            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                <mat-card-content class="form-content">

                    <div class="form-row">
                        <mat-form-field appearance="outline" class="half-width">
                            <mat-label>Nombres</mat-label>
                            <input matInput formControlName="nombre">
                            <mat-error *ngIf="registerForm.get('nombre')?.hasError('required')">Requerido</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="half-width">
                            <mat-label>Apellidos</mat-label>
                            <input matInput formControlName="apellido">
                            <mat-error *ngIf="registerForm.get('apellido')?.hasError('required')">Requerido</mat-error>
                        </mat-form-field>
                    </div>

                    <div class="form-row">
                        <mat-form-field appearance="outline" class="third-width">
                            <mat-label>Tipo Doc.</mat-label>
                            <mat-select formControlName="tipo_documento">
                                <mat-option *ngFor="let doc of documentTypes" [value]="doc.value">
                                    {{doc.viewValue}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="two-thirds-width">
                            <mat-label>N° de Documento</mat-label>
                            <input matInput formControlName="num_documento">
                            <mat-error *ngIf="registerForm.get('num_documento')?.invalid">Inválido</mat-error>
                        </mat-form-field>
                    </div>

                    <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Correo Electrónico</mat-label>
                        <input matInput type="email" formControlName="email">
                        <mat-icon matPrefix>email</mat-icon>
                        <mat-error *ngIf="registerForm.get('email')?.invalid">Correo inválido</mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Contraseña</mat-label>
                        <input matInput type="password" formControlName="password">
                        <mat-icon matPrefix>lock</mat-icon>
                        <mat-error *ngIf="registerForm.get('password')?.invalid">Mínimo 6 caracteres</mat-error>
                    </mat-form-field>

                    <div class="error-message" *ngIf="errorMessage">
                        <mat-icon color="warn">error</mat-icon> {{ errorMessage }}
                    </div>
                </mat-card-content>

                <mat-card-actions class="form-actions">
                    <button mat-raised-button color="primary" type="submit"
                        [disabled]="registerForm.invalid || isLoading" class="full-width register-btn">
                        <span *ngIf="!isLoading">Crear Cuenta</span>
                        <mat-spinner diameter="24" *ngIf="isLoading" style="margin: 0 auto;"></mat-spinner>
                    </button>
                </mat-card-actions>
            </form>

            <div class="card-footer">
                <p>¿Ya tienes cuenta? <a routerLink="/login">Inicia Sesión</a></p>
            </div>
        </mat-card>
    </div>
</div>