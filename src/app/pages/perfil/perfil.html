<div class="perfil-container">

    <div class="header-section">
        <h2>Mi Perfil</h2>
        <p>Gestiona tu información personal y preferencias de cuenta.</p>
    </div>

    <div class="profile-grid">

        <!-- Tarjeta Datos Personales -->
        <mat-card class="profile-card">
            <mat-card-header>
                <div mat-card-avatar class="avatar-placeholder">
                    <mat-icon>person</mat-icon>
                </div>
                <mat-card-title>Datos Personales</mat-card-title>
                <mat-card-subtitle>Mantén tu información actualizada</mat-card-subtitle>
            </mat-card-header>

            <mat-card-content class="form-content">
                <form [formGroup]="perfilForm" (ngSubmit)="guardarPerfil()" class="profile-form">
                    <div class="form-row">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Nombre</mat-label>
                            <input matInput formControlName="nombre">
                            <mat-icon matSuffix>badge</mat-icon>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Apellidos</mat-label>
                            <input matInput formControlName="apellido">
                        </mat-form-field>
                    </div>

                    <div class="form-row">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Correo Electrónico</mat-label>
                            <input matInput formControlName="email" type="email">
                            <mat-icon matSuffix>email</mat-icon>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Teléfono</mat-label>
                            <input matInput formControlName="telefono" type="tel">
                            <mat-icon matSuffix>phone</mat-icon>
                        </mat-form-field>
                    </div>

                    <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Dirección</mat-label>
                        <input matInput formControlName="direccion">
                        <mat-icon matSuffix>home</mat-icon>
                    </mat-form-field>

                    <div class="form-actions">
                        <button mat-flat-button color="primary" type="submit"
                            [disabled]="!perfilForm.valid || !perfilForm.dirty">
                            Guardar Cambios
                        </button>
                    </div>
                </form>
            </mat-card-content>
        </mat-card>

        <!-- Tarjeta Preferencias -->
        <mat-card class="config-card">
            <mat-card-header>
                <mat-card-title>
                    <mat-icon color="primary" class="header-icon">settings</mat-icon> Preferencias
                </mat-card-title>
            </mat-card-header>

            <mat-card-content class="form-content">
                <form [formGroup]="configForm" (ngSubmit)="guardarConfiguracion()" class="config-form">

                    <div class="config-section">
                        <h3>Comunicaciones</h3>
                        <div class="toggle-row">
                            <div class="toggle-info">
                                <span class="toggle-title">Correos Electrónicos</span>
                                <span class="toggle-desc">Recibe resúmenes de rutina y actualizaciones de
                                    GymZone.</span>
                            </div>
                            <mat-slide-toggle formControlName="notificacionesEmail" color="primary"></mat-slide-toggle>
                        </div>

                        <div class="toggle-row">
                            <div class="toggle-info">
                                <span class="toggle-title">Mensajes SMS</span>
                                <span class="toggle-desc">Avisos urgentes sobre cambios de horario en sedes.</span>
                            </div>
                            <mat-slide-toggle formControlName="notificacionesSMS" color="primary"></mat-slide-toggle>
                        </div>
                    </div>

                    <div class="config-section">
                        <h3>Gimnasio & Actividad</h3>
                        <div class="toggle-row">
                            <div class="toggle-info">
                                <span class="toggle-title">Recordatorio de Clases</span>
                                <span class="toggle-desc">Notificarme 2 horas antes de las clases grupales
                                    reservadas.</span>
                            </div>
                            <mat-slide-toggle formControlName="recordatorioClases" color="primary"></mat-slide-toggle>
                        </div>

                        <div class="toggle-row">
                            <div class="toggle-info">
                                <span class="toggle-title">Promociones de la Tienda</span>
                                <span class="toggle-desc">Avisos de descuentos en suplementos y ropa fitness.</span>
                            </div>
                            <mat-slide-toggle formControlName="promociones" color="primary"></mat-slide-toggle>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button mat-stroked-button color="primary" type="submit" [disabled]="!configForm.dirty">
                            Actualizar Preferencias
                        </button>
                    </div>
                </form>
            </mat-card-content>
        </mat-card>

    </div>

</div>